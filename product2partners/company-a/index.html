<!DOCTYPE html>
<html>
<head>
<!-- <script src="https://gs-px-l1-rs.github.io/product2partners/company-a/script.js"></script> -->
<title>Product 2 | Company A Partner Site</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

</head>
<body>
  <script>  (function(n,t,a,e,co){var i="aptrinsic";n[i]=n[i]||function(){
    (n[i].q=n[i].q||[]).push(arguments)},n[i].p=e;n[i].c=co;
  var r=t.createElement("script");r.async=!0,r.src=a+"?a="+e;
  var c=t.getElementsByTagName("script")[0];c.parentNode.insertBefore(r,c)
})(window,document,"https://web-sdk.aptrinsic.com/api/aptrinsic.js","AP-3JBWPZMJAMBI-2",{"iframeModeEnabled":false});

function login() {
  const loginForm = document.getElementById("login-form");
  const uEmail = loginForm.username.value;
  const uPassword = loginForm.password.value;
  const userId = md5(uEmail);
  const acctName = {
      acct1: "Slice Tech",
      acct2: "NazDeck",
      acct3: "Shoomp LLC",
      acct4: "WPL Int"
  }
  const acctId = {
      acct1: "jd84yfh263",
      acct2: "jhdf7597i8",
      acct3: "bct3528fjf",
      acct4: "kfr8395ifn"
  }
  // alert ("logging in");
  if (uEmail === "pxuser1@example.com" && uPassword === "px") {
      aptrinsic("identify",
      {
      //User Fields
          "id": userId, // Required for logged in app users
          "email": uEmail
      },
      {
      //Account Fields
          "id":acctId.acct1, //Required
          "name":acctName.acct1
      });
      setTimeout(() => { window.location.href="index.html"; }, 1000);
  }
  else if (uEmail === "pxuser2@example.com" && uPassword === "px") {
      aptrinsic("identify",
      {
      //User Fields
          "id": userId, // Required for logged in app users
          "email": uEmail
      },
      {
      //Account Fields
          "id":acctId.acct2, //Required
          "name":acctName.acct2
      });
      setTimeout(() => { window.location.href="index.html"; }, 1000);
  }
  else if (uEmail === "pxuser3@example.com" && uPassword === "px") {
      aptrinsic("identify",
      {
      //User Fields
          "id": userId, // Required for logged in app users
          "email": uEmail
      },
      {
      //Account Fields
          "id":acctId.acct3, //Required
          "name":acctName.acct3
      });
      setTimeout(() => { window.location.href="index.html"; }, 1000);
  }else if (uEmail === "pxuser4@example.com" && uPassword === "px") {
      aptrinsic("identify",
      {
      //User Fields
          "id": userId, // Required for logged in app users
          "email": uEmail
      },
      {
      //Account Fields
          "id":acctId.acct4, //Required
          "name":acctName.acct4
      });
      setTimeout(() => { window.location.href="index.html"; }, 1000);
  } 
  else {
      alert('Invalid username or password');
  }
}

function showHint(){
  const hint = "pxuser<n>@example.com, px";
  alert(hint);
}

function logout() {
  window.aptrinsic('reset');
  setTimeout(() => { window.location.href="login.html"; }, 500);
}</script>
<div class="navbar">
  <a href="">COMPANY A PARTNER SITE</a>
  <a href="login.html" onclick="logout()" style="float:right !important;margin-right: 3%;">Log In/Out</a>
</div>

<div id="main_content">
<h3>This content is served from the Product 1 domain, and displayed in Product 2 via iframe. Page head includes Product 2 PX tag</h3>
<p>The below features will be reported in Product 2 user events</p>
<div class="btn-group">
  <button>Feature 1</button>
  <button>Feature 2</button>
  <button>Feature 3</button>
</div>
</div>

</body>
</html>